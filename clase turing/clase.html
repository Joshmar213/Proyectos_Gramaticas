<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clase Interactiva: M√°quina de Turing</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Iconos de Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        body { background-color: #f0f2f5; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        
        .hero-header {
            background: linear-gradient(120deg, #2c3e50 0%, #4ca1af 100%);
            color: white;
            padding: 40px 0;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .simulator-wrapper {
            height: 750px;
            width: 100%;
            border: none;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            background: white;
        }

        /* Estilos del Acorde√≥n */
        .accordion-button:not(.collapsed) {
            background-color: #e7f1ff;
            color: #0c63e4;
            font-weight: bold;
        }
        .accordion-button { font-weight: 500; }
        .accordion-item {
            border: none;
            margin-bottom: 10px;
            border-radius: 8px !important;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .highlight-box {
            background-color: #f8f9fa;
            border-left: 4px solid #4ca1af;
            padding: 15px;
            margin: 10px 0;
            border-radius: 0 4px 4px 0;
        }

        /* Estilos del Cuestionario */
        .quiz-card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        .question-box {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        .question-box:last-child { border-bottom: none; }
        .feedback {
            font-size: 0.9em;
            margin-top: 5px;
            font-weight: bold;
            display: none; /* Oculto por defecto */
        }
    </style>
</head>
<body>

    <!-- T√≠tulo Principal -->
    <header class="hero-header text-center">
        <div class="container">
            <h1 class="display-5 fw-bold"><i class="bi bi-cpu"></i> La M√°quina de Turing</h1>
            <p class="lead mb-0">El modelo matem√°tico que define qu√© es "calcular"</p>
        </div>
    </header>

    <div class="container mb-5">
        
        <!-- SECCI√ìN 1: TEOR√çA EN ACORDE√ìN -->
        <div class="row mb-5">
            <div class="col-lg-10 mx-auto">
                <h3 class="mb-3 text-secondary"><i class="bi bi-book-half"></i> Fundamentos Te√≥ricos</h3>
                
                <div class="accordion" id="accordionTeoria">
                    <!-- BLOQUE 1 -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">
                                1. ¬øQu√© es realmente una M√°quina de Turing?
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionTeoria">
                            <div class="accordion-body">
                                <p>No es una m√°quina f√≠sica que puedas comprar, es un <strong>modelo te√≥rico</strong>. Su prop√≥sito es definir los l√≠mites de la computaci√≥n.</p>
                                <div class="highlight-box">
                                    <h5>üß† La Analog√≠a del Operario</h5>
                                    <p>Imagina un operario met√≥dico con una <strong>cinta de papel infinita</strong> dividida en casillas. √âl solo puede mirar una casilla a la vez y tiene un "estado mental".</p>
                                </div>
                                <p>Basado en su estado y lo que ve, su libro de reglas le permite hacer solo 3 cosas:</p>
                                <ol>
                                    <li><strong>Escribir</strong> un nuevo s√≠mbolo (o dejar el que est√°).</li>
                                    <li><strong>Moverse</strong> una casilla a la izquierda o derecha.</li>
                                    <li><strong>Cambiar</strong> de estado mental.</li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <!-- BLOQUE 2 -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo">
                                2. La Escalera de Poder: Gram√°ticas vs. M√°quinas
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionTeoria">
                            <div class="accordion-body">
                                <p>Imagina la <strong>Gram√°tica</strong> como un "Libro de Leyes" y la <strong>M√°quina</strong> como el "Juez".</p>
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item"><strong>Nivel 1: Reglas Simples (Aut√≥mata Finito)</strong><br>Sin memoria. Como un torno de metro.</li>
                                    <li class="list-group-item"><strong>Nivel 2: Estructura (Aut√≥mata de Pila)</strong><br>Memoria limitada (pila). Ideal para par√©ntesis.</li>
                                    <li class="list-group-item"><strong>Nivel 3: Reglas Totales (M√°quina de Turing)</strong><br>Memoria infinita (cinta) y libertad de movimiento.</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- BLOQUE 3 -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree">
                                3. Visi√≥n de T√∫nel vs. Inspector Sospechoso
                            </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionTeoria">
                            <div class="accordion-body">
                                <p><strong>Gram√°ticas Libres de Contexto ("Visi√≥n de T√∫nel"):</strong> La m√°quina ve un s√≠mbolo y lo cambia sin mirar a los vecinos.</p>
                                <p><strong>Gram√°ticas Dependientes del Contexto ("Inspector Sospechoso"):</strong> La m√°quina viaja a la izquierda y derecha para verificar el entorno antes de actuar.</p>
                            </div>
                        </div>
                    </div>

                    <!-- BLOQUE 4 -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFour">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour">
                                4. Aplicaci√≥n Real: De Turing al Compilador
                            </button>
                        </h2>
                        <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#accordionTeoria">
                            <div class="accordion-body">
                                <p>Un compilador usa tres fases:</p>
                                <ol>
                                    <li><strong>Esc√°ner (Aut√≥mata Finito):</strong> Reconoce palabras.</li>
                                    <li><strong>Arquitecto (Aut√≥mata de Pila):</strong> Verifica estructura.</li>
                                    <li><strong>Polic√≠a L√≥gico (M√°quina de Turing):</strong> Verifica el sentido y contexto (variables, tipos).</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div> 
            </div>
        </div>

        <!-- SECCI√ìN 2: CUESTIONARIO (NUEVA SECCI√ìN) -->
        <div class="row mb-5">
            <div class="col-lg-8 mx-auto">
                <div class="quiz-card border-top border-4 border-warning">
                    <h3 class="mb-4 text-warning"><i class="bi bi-pencil-square"></i> Cuestionario de Repaso</h3>
                    <p class="text-muted">Pon a prueba lo que acabas de leer antes de usar el simulador.</p>

                    <form id="quizForm">
                        
                        <!-- Pregunta 1 -->
                        <div class="question-box">
                            <p class="fw-bold">1. ¬øCu√°l de los siguientes NO es un componente de una M√°quina de Turing?</p>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q1" id="q1a" value="A">
                                <label class="form-check-label" for="q1a">A. Cinta</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q1" id="q1b" value="B">
                                <label class="form-check-label" for="q1b">B. Cabezal lector/escritor</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q1" id="q1c" value="C">
                                <label class="form-check-label" for="q1c">C. Pila</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q1" id="q1d" value="D">
                                <label class="form-check-label" for="q1d">D. Conjunto de estados</label>
                            </div>
                            <div id="result-q1" class="feedback"></div>
                        </div>

                        <!-- Pregunta 2 -->
                        <div class="question-box">
                            <p class="fw-bold">2. ¬øQu√© ocurre cuando la M√°quina de Turing entra en un estado de aceptaci√≥n?</p>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q2" id="q2a" value="A">
                                <label class="form-check-label" for="q2a">A. Borra la cinta</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q2" id="q2b" value="B">
                                <label class="form-check-label" for="q2b">B. La m√°quina se detiene</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q2" id="q2c" value="C">
                                <label class="form-check-label" for="q2c">C. Repite la ejecuci√≥n desde el inicio</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q2" id="q2d" value="D">
                                <label class="form-check-label" for="q2d">D. Cambia todas las celdas a blanco</label>
                            </div>
                            <div id="result-q2" class="feedback"></div>
                        </div>

                        <!-- Pregunta 3 -->
                        <div class="question-box">
                            <p class="fw-bold">3. ¬øC√≥mo se representa una transici√≥n en una M√°quina de Turing?</p>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q3" id="q3a" value="A">
                                <label class="form-check-label" for="q3a">A. (estado, s√≠mbolo) ‚Üí (nuevo estado, s√≠mbolo escrito, movimiento)</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q3" id="q3b" value="B">
                                <label class="form-check-label" for="q3b">B. estado ‚Üí s√≠mbolo</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q3" id="q3c" value="C">
                                <label class="form-check-label" for="q3c">C. s√≠mbolo ‚Üí estado</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q3" id="q3d" value="D">
                                <label class="form-check-label" for="q3d">D. (estado, movimiento) ‚Üí s√≠mbolo</label>
                            </div>
                            <div id="result-q3" class="feedback"></div>
                        </div>

                        <!-- Pregunta 4 -->
                        <div class="question-box">
                            <p class="fw-bold">4. ¬øQu√© tipo de lenguajes puede reconocer una M√°quina de Turing?</p>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q4" id="q4a" value="A">
                                <label class="form-check-label" for="q4a">A. Solo lenguajes regulares</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q4" id="q4b" value="B">
                                <label class="form-check-label" for="q4b">B. Solo lenguajes libres de contexto</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q4" id="q4c" value="C">
                                <label class="form-check-label" for="q4c">C. Lenguajes recursivos y recursivamente enumerables</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="q4" id="q4d" value="D">
                                <label class="form-check-label" for="q4d">D. Todos los lenguajes posibles</label>
                            </div>
                            <div id="result-q4" class="feedback"></div>
                        </div>

                        <div class="text-center mt-4">
                            <button type="button" class="btn btn-primary px-5" onclick="validarRespuestas()">
                                <i class="bi bi-check-circle"></i> Calificar Cuestionario
                            </button>
                            <div id="finalScore" class="mt-3 fw-bold"></div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- SECCI√ìN 3: SIMULADOR -->
        <div class="row">
            <div class="col-12">
                <div class="d-flex justify-content-between align-items-end mb-2">
                    <h3 class="text-secondary mb-0"><i class="bi bi-laptop"></i> Simulador Interactivo</h3>
                    <small class="text-muted">Desarrollado por turingmachine.io</small>
                </div>
                
                <iframe 
                    src="https://turingmachine.io/" 
                    class="simulator-wrapper" 
                    title="Simulador de M√°quina de Turing">
                </iframe>
            </div>
        </div>

    </div>

    <!-- Footer -->
    <footer class="text-center py-4 text-muted bg-light border-top mt-5">
        <p class="mb-0">Material educativo para el estudio de la Teor√≠a de la Computaci√≥n.</p>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- L√≥gica del Cuestionario -->
    <script>
        function validarRespuestas() {
            // Respuestas correctas
            const correctas = {
                q1: 'C',
                q2: 'B',
                q3: 'A',
                q4: 'C'
            };

            let aciertos = 0;
            let total = 4;

            // Recorremos cada pregunta
            for (let i = 1; i <= total; i++) {
                const nombrePregunta = 'q' + i;
                const opciones = document.getElementsByName(nombrePregunta);
                let seleccionada = null;

                // Buscamos cu√°l marc√≥ el usuario
                for (let opcion of opciones) {
                    if (opcion.checked) {
                        seleccionada = opcion.value;
                        break;
                    }
                }

                const feedbackDiv = document.getElementById('result-' + nombrePregunta);
                feedbackDiv.style.display = 'block';

                // Verificamos si es correcta
                if (seleccionada === correctas[nombrePregunta]) {
                    feedbackDiv.innerHTML = '<span class="text-success"><i class="bi bi-check-lg"></i> ¬°Correcto!</span>';
                    aciertos++;
                } else {
                    let mensaje = '<span class="text-danger"><i class="bi bi-x-lg"></i> Incorrecto.</span> ';
                    if(seleccionada === null) mensaje = '<span class="text-warning">No seleccionaste ninguna opci√≥n.</span> ';
                    
                    feedbackDiv.innerHTML = mensaje + 'La respuesta correcta es la <strong>' + correctas[nombrePregunta] + '</strong>.';
                }
            }

            // Puntaje final
            const scoreDiv = document.getElementById('finalScore');
            scoreDiv.innerHTML = `Tu puntuaci√≥n: ${aciertos} / ${total}`;
            
            if(aciertos === total) {
                scoreDiv.className = "mt-3 fw-bold text-success fs-5";
                scoreDiv.innerHTML += " <br>¬°Excelente trabajo!";
            } else {
                scoreDiv.className = "mt-3 fw-bold text-secondary fs-5";
            }
        }
    </script>
</body>
</html>