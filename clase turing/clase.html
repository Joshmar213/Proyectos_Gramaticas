<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clase Interactiva: M√°quina de Turing</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Iconos de Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        body { background-color: #f0f2f5; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        
        .hero-header {
            background: linear-gradient(120deg, #2c3e50 0%, #4ca1af 100%);
            color: white;
            padding: 40px 0;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .simulator-wrapper {
            height: 750px;
            width: 100%;
            border: none;
            border-radius: 0 0 12px 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            background: white;
            display: block;
        }

        /* Estilos del Acorde√≥n */
        .accordion-button:not(.collapsed) {
            background-color: #e7f1ff;
            color: #0c63e4;
            font-weight: bold;
        }
        .accordion-button { font-weight: 500; }
        .accordion-item {
            border: none;
            margin-bottom: 10px;
            border-radius: 8px !important;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        /* Estilo espec√≠fico para la Gu√≠a */
        .guide-accordion .accordion-button {
            background-color: #fff3cd;
            color: #856404;
        }
        .guide-accordion .accordion-button:not(.collapsed) {
            background-color: #ffecb5;
            color: #664d03;
        }

        .highlight-box {
            background-color: #f8f9fa;
            border-left: 4px solid #4ca1af;
            padding: 15px;
            margin: 10px 0;
            border-radius: 0 4px 4px 0;
        }

        .quiz-card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        .question-box {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        .question-box:last-child { border-bottom: none; }
        .feedback {
            font-size: 0.9em;
            margin-top: 5px;
            font-weight: bold;
            display: none;
        }
    </style>
</head>
<body>

    <!-- T√≠tulo Principal -->
    <header class="hero-header text-center">
        <div class="container">
            <h1 class="display-5 fw-bold"><i class="bi bi-cpu"></i> La M√°quina de Turing</h1>
            <p class="lead mb-0">El modelo matem√°tico que define qu√© es "calcular"</p>
        </div>
    </header>

    <div class="container mb-5">
        
        <!-- SECCI√ìN 1: TEOR√çA -->
        <div class="row mb-5">
            <div class="col-lg-10 mx-auto">
                <h3 class="mb-3 text-secondary"><i class="bi bi-book-half"></i> Fundamentos Te√≥ricos</h3>
                
                <div class="accordion" id="accordionTeoria">
                    
                    <!-- Definicion y componentes -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">
                                1. ¬øQu√© es y c√≥mo funciona? (Componentes y Reglas)
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionTeoria">
                            <div class="accordion-body">
                                <p>No es una m√°quina f√≠sica que puedas comprar, es un <strong>modelo te√≥rico</strong>. Su prop√≥sito es definir los l√≠mites de la computaci√≥n.</p>
                                <div class="highlight-box">
                                    <h5>üß† La Analog√≠a del Operario</h5>
                                    <p>Imagina un operario met√≥dico con una <strong>cinta de papel infinita</strong> dividida en casillas. √âl solo puede mirar una casilla a la vez y tiene un "estado mental".</p>
                                </div>
                                <p>Basado en su estado y lo que ve, su libro de reglas le permite hacer solo 3 cosas:</p>
                                <ol>
                                    <li><strong>Escribir</strong> un nuevo s√≠mbolo (o dejar el que est√°).</li>
                                    <li><strong>Moverse</strong> una casilla a la izquierda o derecha.</li>
                                    <li><strong>Cambiar</strong> de estado mental.</li>
                                </ol>
                                <p>Es un modelo te√≥rico que manipula s√≠mbolos en una cinta. Si un problema tiene soluci√≥n algor√≠tmica, esta m√°quina puede encontrarla.</p>
                                
                                <div class="row mt-3">
                                    <div class="col-md-6">
                                        <div class="highlight-box">
                                            <h5>üõ†Ô∏è Componentes Formales</h5>
                                            <ul class="mb-0">
                                                <li><strong>Cinta:</strong> Memoria infinita.</li>
                                                <li><strong>Cabezal:</strong> Lee y escribe.</li>
                                                <li><strong>Conjunto de Estados:</strong> La "memoria" actual.</li>
                                                <li><em>Nota: A diferencia de otros aut√≥matas, la M√°quina de Turing <strong>NO tiene una "Pila"</strong>.</em></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="highlight-box" style="border-left-color: #ffc107;">
                                            <h5>üõë ¬øCu√°ndo termina?</h5>
                                            <p>Cuando la m√°quina llega a un <strong>Estado de Aceptaci√≥n</strong> (o final), simplemente <strong>se detiene</strong>. No borra la cinta ni reinicia; se detiene con el resultado escrito.</p>
                                        </div>
                                    </div>
                                </div>

                                <p class="mt-2"><strong>La Regla de Transici√≥n:</strong></p>
                                <p>Cada paso se representa matem√°ticamente as√≠:</p>
                                <div class="alert alert-secondary text-center font-monospace">
                                    (Estado Actual, S√≠mbolo Le√≠do) ‚Üí (Nuevo Estado, S√≠mbolo a Escribir, Movimiento)
                                </div>
                                <p class="small text-muted">Ejemplo: Si estoy en estado "buscar" y leo "0" ‚Üí cambio a estado "encontrado", escribo "1" y me muevo a la Derecha.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Jerarquia-->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo">
                                2. La Escalera de Poder y Tipos de Lenguajes
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionTeoria">
                            <div class="accordion-body">
                                <p>No todas las m√°quinas tienen el mismo poder. Se clasifican seg√∫n la complejidad de los "Lenguajes" (problemas) que pueden resolver:</p>
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item">
                                        <strong>Nivel 1: Lenguajes Regulares</strong><br>
                                        M√°quina: <em>Aut√≥mata Finito</em>. (Sin memoria).
                                    </li>
                                    <li class="list-group-item">
                                        <strong>Nivel 2: Lenguajes Libres de Contexto</strong><br>
                                        M√°quina: <em>Aut√≥mata de Pila</em>. (Usa una pila auxiliar).
                                    </li>
                                    <li class="list-group-item bg-light border-start border-primary border-4">
                                        <strong>Nivel 3: Lenguajes Recursivamente Enumerables</strong><br>
                                        M√°quina: <em>M√°quina de Turing</em>.<br>
                                        Es la m√°s poderosa. Puede reconocer <strong>Lenguajes Recursivos y Recursivamente Enumerables</strong> (b√°sicamente, cualquier problema computable).
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- bloque 3 -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree">
                                3. Visi√≥n de T√∫nel vs. Inspector Sospechoso
                            </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionTeoria">
                            <div class="accordion-body">
                                <p><strong>Visi√≥n de T√∫nel (Libre de Contexto):</strong> La m√°quina cambia s√≠mbolos sin mirar a los vecinos.</p>
                                <p><strong>Inspector Sospechoso (Dependiente del Contexto):</strong> La m√°quina viaja a los lados para verificar el entorno antes de actuar. Solo la M√°quina de Turing tiene la libertad para hacer esto.</p>
                            </div>
                        </div>
                    </div>

                    <!-- BLOQUE 4 -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFour">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour">
                                4. Aplicaci√≥n Real: De Turing al Compilador
                            </button>
                        </h2>
                        <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#accordionTeoria">
                            <div class="accordion-body">
                                <p>Un compilador usa tres fases:</p>
                                <ol>
                                    <li><strong>Esc√°ner (Aut√≥mata Finito):</strong> Reconoce palabras.</li>
                                    <li><strong>Arquitecto (Aut√≥mata de Pila):</strong> Verifica estructura.</li>
                                    <li><strong>Polic√≠a L√≥gico (M√°quina de Turing):</strong> Verifica el sentido y contexto.</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div> 
            </div>
        </div>

        <!-- Cuestionario -->
        <div class="row mb-5">
            <div class="col-lg-8 mx-auto">
                <div class="quiz-card border-top border-4 border-warning">
                    <h3 class="mb-4 text-warning"><i class="bi bi-pencil-square"></i> Cuestionario de Repaso</h3>
                    <form id="quizForm">
                        <!-- P1 -->
                        <div class="question-box">
                            <p class="fw-bold">1. ¬øCu√°l de los siguientes NO es un componente de una M√°quina de Turing?</p>
                            <div class="form-check"><input class="form-check-input" type="radio" name="q1" value="A"><label>A. Cinta</label></div>
                            <div class="form-check"><input class="form-check-input" type="radio" name="q1" value="B"><label>B. Cabezal lector/escritor</label></div>
                            <div class="form-check"><input class="form-check-input" type="radio" name="q1" value="C"><label>C. Pila</label></div>
                            <div class="form-check"><input class="form-check-input" type="radio" name="q1" value="D"><label>D. Conjunto de estados</label></div>
                            <div id="result-q1" class="feedback"></div>
                        </div>
                        <!-- P2 -->
                        <div class="question-box">
                            <p class="fw-bold">2. ¬øQu√© ocurre cuando la M√°quina de Turing entra en un estado de aceptaci√≥n?</p>
                            <div class="form-check"><input class="form-check-input" type="radio" name="q2" value="A"><label>A. Borra la cinta</label></div>
                            <div class="form-check"><input class="form-check-input" type="radio" name="q2" value="B"><label>B. La m√°quina se detiene</label></div>
                            <div class="form-check"><input class="form-check-input" type="radio" name="q2" value="C"><label>C. Repite la ejecuci√≥n desde el inicio</label></div>
                            <div class="form-check"><input class="form-check-input" type="radio" name="q2" value="D"><label>D. Cambia todas las celdas a blanco</label></div>
                            <div id="result-q2" class="feedback"></div>
                        </div>
                        <!-- P3 -->
                        <div class="question-box">
                            <p class="fw-bold">3. ¬øC√≥mo se representa una transici√≥n en una M√°quina de Turing?</p>
                            <div class="form-check"><input class="form-check-input" type="radio" name="q3" value="A"><label>A. (estado, s√≠mbolo) ‚Üí (nuevo estado, s√≠mbolo escrito, movimiento)</label></div>
                            <div class="form-check"><input class="form-check-input" type="radio" name="q3" value="B"><label>B. estado ‚Üí s√≠mbolo</label></div>
                            <div class="form-check"><input class="form-check-input" type="radio" name="q3" value="C"><label>C. s√≠mbolo ‚Üí estado</label></div>
                            <div class="form-check"><input class="form-check-input" type="radio" name="q3" value="D"><label>D. (estado, movimiento) ‚Üí s√≠mbolo</label></div>
                            <div id="result-q3" class="feedback"></div>
                        </div>
                        <!-- P4 -->
                        <div class="question-box">
                            <p class="fw-bold">4. ¬øQu√© tipo de lenguajes puede reconocer una M√°quina de Turing?</p>
                            <div class="form-check"><input class="form-check-input" type="radio" name="q4" value="A"><label>A. Solo lenguajes regulares</label></div>
                            <div class="form-check"><input class="form-check-input" type="radio" name="q4" value="B"><label>B. Solo lenguajes libres de contexto</label></div>
                            <div class="form-check"><input class="form-check-input" type="radio" name="q4" value="C"><label>C. Lenguajes recursivos y recursivamente enumerables</label></div>
                            <div class="form-check"><input class="form-check-input" type="radio" name="q4" value="D"><label>D. Todos los lenguajes posibles</label></div>
                            <div id="result-q4" class="feedback"></div>
                        </div>

                        <div class="text-center mt-4">
                            <button type="button" class="btn btn-primary px-5" onclick="validarRespuestas()"><i class="bi bi-check-circle"></i> Calificar Cuestionario</button>
                            <div id="finalScore" class="mt-3 fw-bold"></div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Simulador -->
        <div class="row">
            <div class="col-12">
                <div class="d-flex justify-content-between align-items-end mb-2">
                    <h3 class="text-secondary mb-0"><i class="bi bi-laptop"></i> Simulador Interactivo</h3>
                    <small class="text-muted">Desarrollado por turingmachine.io</small>
                </div>

                <!-- guia de uso -->
                <div class="accordion guide-accordion mb-0" id="accordionGuia">
                    <div class="accordion-item border-bottom-0 rounded-bottom-0">
                        <h2 class="accordion-header" id="headingGuia">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseGuia">
                                <i class="bi bi-info-circle-fill me-2"></i> <strong>Gu√≠a de Uso:</strong> ¬øC√≥mo entender y controlar este simulador?
                            </button>
                        </h2>
                        <div id="collapseGuia" class="accordion-collapse collapse" data-bs-parent="#accordionGuia">
                            <div class="accordion-body bg-light">
                                <div class="row">
                                    <div class="col-md-4 border-end">
                                        <h5 class="text-primary"><i class="bi bi-joystick"></i> Los Controles</h5>
                                        <ul class="small">
                                            <li><strong>Play (Run):</strong> Ejecuta a velocidad normal.</li>
                                            <li><strong>Step (Paso):</strong> Avanza un movimiento a la vez.</li>
                                            <li><strong>Reset:</strong> Reinicia todo.</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-4 border-end">
                                        <h5 class="text-primary"><i class="bi bi-eye"></i> Lo Visual</h5>
                                        <ul class="small">
                                            <li><strong>C√≠rculos:</strong> Estados ("mente" de la m√°quina).</li>
                                            <li><strong>Cuadrados:</strong> Cinta infinita.</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-4">
                                        <h5 class="text-primary"><i class="bi bi-code-slash"></i> El C√≥digo</h5>
                                        <p class="small">Carga ejemplos en el men√∫ "Document" para empezar.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <iframe 
                    src="https://turingmachine.io/" 
                    class="simulator-wrapper" 
                    title="Simulador de M√°quina de Turing">
                </iframe>
            </div>
        </div>

    </div>

    <!-- Footer -->
    <footer class="text-center py-4 text-muted bg-light border-top mt-5">
        <p class="mb-0">Material educativo para el estudio de la Teor√≠a de la Computaci√≥n.</p>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Logica del Cuestionario -->
    <script>
        function validarRespuestas() {
            const correctas = { q1: 'C', q2: 'B', q3: 'A', q4: 'C' };
            let aciertos = 0;
            let total = 4;

            for (let i = 1; i <= total; i++) {
                const nombre = 'q' + i;
                const opciones = document.getElementsByName(nombre);
                let seleccionada = null;
                for (let op of opciones) if (op.checked) seleccionada = op.value;

                const feedback = document.getElementById('result-' + nombre);
                feedback.style.display = 'block';

                if (seleccionada === correctas[nombre]) {
                    feedback.innerHTML = '<span class="text-success"><i class="bi bi-check-lg"></i> ¬°Correcto!</span>';
                    aciertos++;
                } else {
                    feedback.innerHTML = '<span class="text-danger"><i class="bi bi-x-lg"></i> Incorrecto.</span> La respuesta correcta es <strong>' + correctas[nombre] + '</strong>.';
                }
            }
            const score = document.getElementById('finalScore');
            score.innerHTML = `Tu puntuaci√≥n: ${aciertos} / ${total}`;
            score.className = aciertos === total ? "mt-3 fw-bold text-success fs-5" : "mt-3 fw-bold text-secondary fs-5";
        }
    </script>
</body>
</html>